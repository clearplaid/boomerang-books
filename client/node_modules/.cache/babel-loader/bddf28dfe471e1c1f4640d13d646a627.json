{"ast":null,"code":"var _jsxFileName = \"/home/scott/Desktop/Code/boomerang/client/src/pages/Search.js\";\nimport React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\nimport axios from \"axios\";\n\nrequire(\"dotenv\").config();\n\nconst API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSearch = event => {\n      event.preventDefault();\n      API.searchBooks(this.state.bookTitle).then(response => {\n        this.setState({\n          bookTitle: \"\",\n          bookInfo: response.data\n        });\n      });\n    };\n\n    this.state = {\n      bookTitle: \"\",\n      bookInfo: []\n    };\n  }\n\n  componentDidMount() {\n    let bookTitle = req.body.title.replace(/\\s/g, \"+\");\n    axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + bookTitle + \"&key=\" + API_KEY).then(response => {\n      res.json(response.data.items);\n    }).catch(error => {\n      res.json({\n        error: error\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Form, {\n      handleChange: this.handleChange,\n      handleSearch: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), this.state.bookInfo.length > 0 ? React.createElement(Results, {\n      bookInfo: this.state.bookInfo,\n      path: this.props.match.path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/scott/Desktop/Code/boomerang/client/src/pages/Search.js"],"names":["React","Form","Results","API","axios","require","config","API_KEY","process","env","REACT_APP_GOOGLE_BOOKS_API_KEY","Search","Component","constructor","props","handleChange","event","target","name","value","setState","handleSearch","preventDefault","searchBooks","state","bookTitle","then","response","bookInfo","data","componentDidMount","req","body","title","replace","get","res","json","items","catch","error","render","length","match","path"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,8BAA5B;;AAEA,MAAMC,MAAN,SAAqBX,KAAK,CAACY,SAA3B,CAAqC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsBnBC,YAtBmB,GAsBJC,KAAK,IAAI;AAAA,4BACEA,KAAK,CAACC,MADR;AAAA,YACdC,IADc,iBACdA,IADc;AAAA,YACRC,KADQ,iBACRA,KADQ;AAEtB,WAAKC,QAAL,CAAc;AAAE,SAACF,IAAD,GAAQC;AAAV,OAAd;AACD,KAzBkB;;AAAA,SA2BnBE,YA3BmB,GA2BJL,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAnB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,KAAKC,KAAL,CAAWC,SAA3B,EACGC,IADH,CAEKC,QAAD,IAAc;AACZ,aAAKP,QAAL,CAAc;AAAEK,UAAAA,SAAS,EAAE,EAAb;AAAiBG,UAAAA,QAAQ,EAAED,QAAQ,CAACE;AAApC,SAAd;AACH,OAJH;AAMD,KAnCkB;;AAEjB,SAAKL,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXG,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,QAAIL,SAAS,GAAGM,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAeC,OAAf,CAAuB,KAAvB,EAA8B,GAA9B,CAAhB;AACA9B,IAAAA,KAAK,CAAC+B,GAAN,CAAU,mDAAmDV,SAAnD,GAA+D,OAA/D,GAAyElB,OAAnF,EACGmB,IADH,CAEKC,QAAD,IAAc;AACZS,MAAAA,GAAG,CAACC,IAAJ,CAASV,QAAQ,CAACE,IAAT,CAAcS,KAAvB;AACD,KAJL,EAKGC,KALH,CAMKC,KAAD,IAAW;AACTJ,MAAAA,GAAG,CAACC,IAAJ,CAAS;AAACG,QAAAA,KAAK,EAAEA;AAAR,OAAT;AACD,KARL;AASC;;AAkBHC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,YAAY,EAAE,KAAK1B,YAAzB;AAAuC,MAAA,YAAY,EAAE,KAAKM,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAGI,KAAKG,KAAL,CAAWI,QAAX,CAAoBc,MAApB,GAA6B,CAA9B,GACC,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAKlB,KAAL,CAAWI,QAA9B;AAAwC,MAAA,IAAI,EAAE,KAAKd,KAAL,CAAW6B,KAAX,CAAiBC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAC2E,IAJ9E,CADF;AASD;;AAhDkC;;AAmDrC,eAAejC,MAAf","sourcesContent":["import React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\nimport axios from \"axios\";\nrequire(\"dotenv\").config();\nconst API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookTitle: \"\",\n      bookInfo: []\n    }\n  }\n\n  componentDidMount() {\n    let bookTitle = req.body.title.replace(/\\s/g, \"+\");\n    axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + bookTitle + \"&key=\" + API_KEY)\n      .then(\n        (response) => {\n          res.json(response.data.items)\n        })\n      .catch (\n        (error) => {\n          res.json({error: error})\n        })\n    }\n\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSearch = event => {\n    event.preventDefault();\n    API.searchBooks(this.state.bookTitle)\n      .then(\n        (response) => {\n          this.setState({ bookTitle: \"\", bookInfo: response.data })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <main>\n        <Form handleChange={this.handleChange} handleSearch={this.handleSearch} />\n\n        {(this.state.bookInfo.length > 0) ?\n          <Results bookInfo={this.state.bookInfo} path={this.props.match.path} /> : null\n        }\n      </main>\n    )\n  }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}